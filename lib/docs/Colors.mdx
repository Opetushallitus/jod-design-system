import { Meta, ColorPalette, ColorItem } from '@storybook/addon-docs/blocks';
import themeSource from '../theme.css?raw';
import { getOrderedColorGroups, partitionLeftovers } from './colorTokens';

<Meta title="Colors" />

# Colors

export const ColorsOverview = () => {
  const groups = getOrderedColorGroups(themeSource);
  if (!groups.length) {
    return <p>No color tokens matched.</p>;
  }

return (

<>
  {groups.map(({ group, items }) => {
    const { scale, light, dark, leftovers } = partitionLeftovers(items);
    return (
      <div key={group} style={{ marginBottom: 32 }}>
        <h3>{group}</h3>
        <ColorPalette>
          {scale && <ColorItem title="Scale" colors={scale} />}
          {light && <ColorItem title="Light" colors={light} />}
          {dark && <ColorItem title="Dark" colors={dark} />}
          {leftovers.map((it) => (
            <ColorItem key={it.name} title={it.name} colors={{ [it.name]: it.value }} />
          ))}
        </ColorPalette>
      </div>
    );
  })}
</>
); };

<ColorsOverview />
